<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω Nh·∫≠p Li·ªáu S·∫£n Ph·∫©m</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h2>Dashboard</h2>
            <ul>
                <li class="active"><i class="icon">üìù</i> Nh·∫≠p S·∫£n Ph·∫©m</li>
                <li onclick="window.open('https://docs.google.com/spreadsheets/d/1jm13lCYMyf6-lBOLlZWSwmvjSLd0eWJpPlEA12rc5Vs/edit?gid=0#gid=0', '_blank')" class="btn-sheet">
                    <i class="icon">üìä</i> Xem L·ªãch S·ª≠ (Sheets)
                </li>
            </ul>

            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-label">T·ªïng ƒë∆°n ƒë√£ nh·∫≠p</span>
                    <span class="stat-value" id="totalEntries">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">L√¥ h√†ng m·ªõi nh·∫•t</span>
                    <span class="stat-value" id="lastBatch">---</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Tr·∫°ng th√°i h·ªá th·ªëng</span>
                    <span class="stat-value status-online">S·∫µn s√†ng</span>
                </div>
            </div>
        </aside>

        <main class="content">
            <header>
                <h1>H·ªá Th·ªëng Ki·ªÉm So√°t Ch·∫•t L∆∞·ª£ng</h1>
            </header>

            <section class="form-section">
              <form id="productForm">
                  <div class="grid-container">
                      <div class="input-group">
                          <label for="productName">T√™n s·∫£n ph·∫©m</label>
                          <input type="text" id="productName" required placeholder="Nh·∫≠p t√™n SP...">
                      </div>
                      <div class="input-group">
                          <label for="weight">Kh·ªëi l∆∞·ª£ng (kg/g)</label>
                          <input type="text" id="weight" required placeholder="V√≠ d·ª•: 500g">
                      </div>

                      <div class="input-group">
                          <label for="quantity">S·ªë l∆∞·ª£ng (th√πng/c√°i)</label>
                          <input type="text" id="quantity" required placeholder="V√≠ d·ª•: 50 th√πng">
                      </div>
                      <div class="input-group">
                          <label for="customer">Kh√°ch h√†ng</label>
                          <input type="text" id="customer" required placeholder="T√™n kh√°ch h√†ng">
                      </div>

                      <div class="input-group">
                          <label for="batchNo">S·ªë l√¥ (Batch No.)</label>
                          <input type="text" id="batchNo" required placeholder="VD: L02026">
                      </div>
                      <div class="input-group">
                          <label for="mfgDate">Ng√†y s·∫£n xu·∫•t</label>
                          <input type="date" id="mfgDate" required>
                      </div>
                      
                      <div class="input-group">
                          <label for="shelfLife">Th·ªùi h·∫°n (Th√°ng)</label>
                          <select id="shelfLife" class="custom-select">
                              <option value="6">6 th√°ng</option>
                              <option value="12" selected>12 th√°ng</option>
                              <option value="24">24 th√°ng</option>
                          </select>
                      </div>
                      <div class="input-group">
                          <label>H·∫°n s·ª≠ d·ª•ng (T·ª± ƒë·ªông)</label>
                          <input type="date" id="expDate" readonly>
                      </div>

                      <div class="input-group full-width">
                          <label for="qcCode">M√£ ki·ªÉm so√°t (QC Code)</label>
                          <div style="display: flex; gap: 10px;">
                              <input type="text" id="qcCode" required placeholder="Qu√©t ho·∫∑c nh·∫≠p m√£...">
                              <button type="button" id="scanBtn" style="width: auto; margin: 0; padding: 0 20px;">üì∑ Qu√©t</button>
                          </div>
                      </div>
                  </div> <div id="reader-container" style="display: none; margin-top: 20px;">
                      <div id="reader" style="width: 100%; border-radius: 12px; overflow: hidden;"></div>
                      <button type="button" id="stopScanBtn" style="background: var(--danger);">D·ª´ng Qu√©t</button>
                  </div>

                  <button type="submit" id="submitBtn">L∆∞u & Xu·∫•t D·ªØ Li·ªáu</button>
              </form>
            </section>

            <section class="table-section">
                <h3>D·ªØ li·ªáu ƒë√£ nh·∫≠p g·∫ßn ƒë√¢y</h3>
                <div class="table-wrapper">
                    <table id="dataTable">
                        <thead>
                            <tr>
                                <th>S·∫£n ph·∫©m</th>
                                <th>Kh·ªëi l∆∞·ª£ng</th>
                                <th>S·ªë l∆∞·ª£ng</th>
                                <th>Kh√°ch h√†ng</th>
                                <th>S·ªë l√¥</th>
                                <th>Ng√†y SX</th>
                                <th>HSD</th>
                                <th>M√£ QC</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="script.js"></script>
</body>
</html>
